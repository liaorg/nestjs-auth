## 目录结构

```
+-- bin // 自定义任务脚本
+-- dist // 源码构建目录
+-- public // 静态资源目录（web页面）
+-- src
|   +-- config // 公共全局配置
|   +-- entities // TypeORM Entities generated by `typeorm-model-generator` module
|   +-- auth // 鉴权模块
|   +-- common // 公共全局模块
|   |   +-- constants // 静态变量
|   |   +-- controllers // 控制器
|   |   +-- decorators // 装饰器
|   |   +-- dto // DTO (Data Transfer Object) Schema, Validation
|   |   +-- enums // 枚举变量
|   |   +-- exceptions // 自定义异常
|   |   +-- filters // 异常过滤器
|   |   +-- guards // 守卫
|   |   +-- interceptors // 拦截器
|   |   +-- interfaces // 接口
|   |   +-- middleware // 中间件
|   |   +-- pipes // 管道
|   |   +-- providers // 服务
|   +-- modules // 业务模块
|   |   +-- users // 通过命令 nest g res [模块名] 生成
|   |   |   +-- dto
|   |   |   +-- entities
|   |   |   +-- enums
|   |   |   +-- users.constant.ts
|   |   |   +-- users.controller.ts
|   |   |   +-- users.service.ts
|  |    |   +-- users.module.ts
|   |   |   +-- users.exception.ts
|   |   |   +-- users.*.ts
|   |   |   +-- index.ts
|   +-- * // 其他模块同以上结构
+-- test // Jest testing

```

## Installation

```bash
vscode 扩展
ashinzekene/NestJS Snippets
Abhijoy Basak/NestJS Files
$ npm install
```

## Running the app

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Test

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## License

Nest is [MIT licensed](LICENSE).

## i18n

```
# [https://github.com/toonvanstrijp/nestjs-i18n]
npm install --save nestjs-i18n
# nest-cli.json
{
  "collection": "@nestjs/schematics",
  "sourceRoot": "src",
  "compilerOptions": {
    "assets": [
      { "include": "i18n/**/*", "watchAssets": true }
    ]
  }
}
# app.module.ts
@Module({
  imports: [
    I18nModule.forRoot({
      fallbackLanguage: 'en',
      loaderOptions: {
        path: path.join(__dirname, '/i18n/'),
        watch: true,
      },
    }),
  ],
  controllers: [],
})

# users.service.ts / users.controller.ts
constructor(private readonly i18nService: I18nService) {}

```

## 静态服务 [https://docs.nestjs.com/recipes/serve-static]

```
npm install --save @nestjs/serve-static
```

## curd

```
npm install mongodb --save
npm install @nestjsx/crud class-transformer class-validator
npm install @nestjs/typeorm typeorm --save
or
npm install --save @nestjs/mongoose mongoose
```
